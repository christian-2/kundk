#!/bin/bash
set -e
trap 'echo "error: $0:$LINENO"' ERR

podman secret rm --all > /dev/null || true

echo keycloak-admin-password:
read password
echo '{"password":"'$password'"}' | \
  podman secret create --driver file keycloak-admin-password - > /dev/null

echo postgres-keycloak-password:
read password
echo '{"password":"'$password'"}' | \
  podman secret create --driver file postgres-keycloak-password - > /dev/null

echo postgres-password:
read password
echo '{"password":"'$password'"}' | \
  podman secret create --driver file postgres-password - > /dev/null
